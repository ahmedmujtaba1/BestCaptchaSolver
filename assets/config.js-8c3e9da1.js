import{j as o}from"./utils-e474e5df.js";import"./package-b4497a7a.js";if(location.search.startsWith("?apikey=")){const e=new Proxy(new URLSearchParams(window.location.search),{get:(t,a)=>t.get(a)});chrome.storage.sync.set({apikey:e.apikey,plantype:e.plan,hcaptime:e.hcaptime!=null?e.hcaptime:7,hcaptime_multi:e.hcaptime_multi!=null?e.hcaptime_multi:1,hcaptime_bbox:e.hcaptime_bbox!=null?e.hcaptime_bbox:1,hCap:e.hcap!=null?e.hcap:!0,reCap:e.recap!=null?e.recap:!0,OCR:e.ocr!=null?e.ocr:!0,debug:e.debug!=null?e.debug:!1}),chrome.storage.sync.get(null,function(t){console.table({keys:Object.keys(t),val:Object.values(t)})}),chrome.storage.sync.get(null,function(t){console.table({keys:Object.keys(t),val:Object.values(t)})});const s="https://manage.nocaptchaai.com/api/user/get_endpoint";let c=await chrome.storage.sync.get(null);if(c.apikey.length<0)throw new Error("empty apikey");(async()=>{let t=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",apikey:c.apikey}});if(t=await t.json(),console.log(t),t.error)o(t.error+`
 noCaptchaAi Extension Config failed ✘`),chrome.storage.sync.set({apikey:""});else if(t.plan==="free"){o(`noCaptchaAi Extension 
 Config Successful ✔️`);const a=[...document.querySelectorAll("[src*=newassets]")];for(const n of a){const l=n.src;n.src="about:blank",setTimeout(function(){n.src=l},10)}}else t.plan,o(`noCaptchaAi Extension ${t.plan} plan 
 Config Successful ✔️`)})()}
