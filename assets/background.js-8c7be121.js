chrome.runtime.onInstalled.addListener(()=>{chrome.storage.sync.set({apikey:""}),chrome.storage.sync.set({plantype:"PRO"}),chrome.storage.sync.set({hCap:!0}),chrome.storage.sync.set({reCap:!0}),chrome.storage.sync.set({OCR:!0}),chrome.storage.sync.set({power:!0}),chrome.storage.sync.set({logs:!1}),chrome.storage.sync.set({fast:!0}),chrome.storage.sync.set({debug:!1}),chrome.storage.sync.set({autoOpen:!0}),chrome.storage.sync.set({autoSolve:!0}),chrome.storage.sync.set({hcaptime:7}),chrome.storage.sync.set({hcaptime_multi:1}),chrome.storage.sync.set({hcaptime_bbox:1}),chrome.storage.sync.set({hCAlwaysSolve:!1}),chrome.storage.sync.set({english:!0}),chrome.storage.sync.set({RautoOpen:!0}),chrome.storage.sync.set({RautoSolve:!0}),chrome.storage.sync.set({RsolveType:"image"}),chrome.contextMenus.create({id:"domain-action",title:"➕ Add domain to IgnoreList",contexts:["all"]}),chrome.contextMenus.onClicked.addListener(function(t,r){t.menuItemId==="domain-action"&&chrome.storage.sync.get("domains",function(o){var e=o.domains||[],a=new URL(r.url),s=a.hostname.replace(/^www\./,""),n=e.indexOf(s);n==-1?(e.push(s),chrome.storage.sync.set({domains:e},function(){chrome.contextMenus.update("domain-action",{title:"➖ Remove Domain from IgnoreList"}),console.table("Domain added to IgnoreList:",s),console.table(e)})):(e.splice(n,1),chrome.storage.sync.set({domains:e},function(){chrome.contextMenus.update("domain-action",{title:" ➕ Add domain to IgnoreList"}),console.table("Domain removed from IgnoreList",s),console.table(e)}))})}),chrome.runtime.onMessage.addListener((t,r,o)=>{if(t.action==="sendtask")return fetch(t.url,{method:"POST",headers:t.header,body:t.body}).then(e=>e.json()).then(e=>{o({success:!0,data:e})}).catch(e=>{o({success:!1,error:e.message})}),!0})});
